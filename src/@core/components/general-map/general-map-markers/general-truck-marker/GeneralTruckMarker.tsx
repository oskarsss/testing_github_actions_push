/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */
/* eslint-disable jsx-a11y/no-static-element-interactions */
/* eslint-disable jsx-a11y/click-events-have-key-events */
import React from 'react';
import ChevronRightIcon from '@mui/icons-material/ChevronRight';
import { TrucksIcon } from '@/@core/icons/custom-nav-icons/icons';
import openNewWindow from '@/utils/open-new-window';
import { createSvgIcon } from '@mui/material';
import clsx from 'clsx';
import styles from './general-truck-marker.module.scss';

type Props = {
    truckReferenceId: string;
    truckId: string;
    flyToPoint: () => void;
    isOnline: boolean;
};

export const TruckMarkerIcon = createSvgIcon(
    <svg
        xmlns="http://www.w3.org/2000/svg"
        width="10"
        height="10"
        viewBox="0 0 10 10"
        fill="none"
    >
        <path
            d="M0.874762 6.32633C0.808521 6.32633 0.744993 6.35307 0.698154 6.40067C0.651314 6.44827 0.625 6.51282 0.625 6.58014V7.58691C0.625 7.75519 0.690785 7.91658 0.807884 8.03558C0.924983 8.15457 1.0838 8.22142 1.2494 8.22142H1.37429C1.35957 8.15185 1.3512 8.08105 1.34931 8.00992C1.34731 7.97611 1.34731 7.94221 1.34931 7.9084C1.34727 7.87176 1.34727 7.83504 1.34931 7.79841C1.39579 7.58969 1.51073 7.40323 1.67525 7.26965C1.83978 7.13607 2.04411 7.06331 2.2547 7.06331C2.46529 7.06331 2.66962 7.13607 2.83414 7.26965C2.99866 7.40323 3.1136 7.58969 3.16008 7.79841C3.20837 7.5907 3.32425 7.40564 3.48895 7.2732C3.65365 7.14076 3.85753 7.06871 4.06755 7.06871C4.27758 7.06871 4.48146 7.14076 4.64616 7.2732C4.81086 7.40564 4.92674 7.5907 4.97502 7.79841C4.97706 7.83504 4.97706 7.87176 4.97502 7.9084C4.97702 7.94221 4.97702 7.97611 4.97502 8.00992C4.97313 8.08105 4.96476 8.15185 4.95004 8.22142H6.75666C6.73989 8.15222 6.7315 8.08119 6.73168 8.00992C6.72962 7.97611 6.72962 7.9422 6.73168 7.9084C6.72967 7.87176 6.72967 7.83504 6.73168 7.79841C6.77816 7.58969 6.8931 7.40323 7.05762 7.26965C7.22215 7.13607 7.42648 7.06331 7.63707 7.06331C7.84766 7.06331 8.05199 7.13607 8.21651 7.26965C8.38103 7.40323 8.49597 7.58969 8.54245 7.79841C8.54446 7.83504 8.54446 7.87176 8.54245 7.9084C8.54452 7.9422 8.54452 7.97611 8.54245 8.00992C8.54263 8.08119 8.53424 8.15222 8.51748 8.22142H8.64236C8.80796 8.22142 8.96678 8.15457 9.08388 8.03558C9.20098 7.91658 9.26676 7.75519 9.26676 7.58691V6.31787L0.874762 6.32633Z"
            fill="#C6D7FF"
        />
        <path
            d="M4.09254 7.27791C3.94928 7.27791 3.80924 7.32108 3.69013 7.40195C3.57102 7.48283 3.47818 7.59778 3.42336 7.73228C3.36854 7.86677 3.3542 8.01476 3.38214 8.15754C3.41009 8.30032 3.47907 8.43147 3.58037 8.53441C3.68167 8.63735 3.81073 8.70745 3.95123 8.73585C4.09173 8.76425 4.23737 8.74967 4.36972 8.69396C4.50207 8.63825 4.61519 8.54391 4.69478 8.42287C4.77436 8.30183 4.81684 8.15952 4.81684 8.01395C4.81684 7.81874 4.74053 7.63152 4.6047 7.49349C4.46886 7.35545 4.28463 7.27791 4.09254 7.27791ZM4.09254 8.34813C4.00565 8.34703 3.92263 8.31147 3.86119 8.24904C3.79975 8.1866 3.76476 8.10224 3.76368 8.01395C3.76478 7.92605 3.79991 7.84214 3.86146 7.78038C3.92301 7.71862 4.00603 7.68399 4.09254 7.684C4.13517 7.684 4.1774 7.69253 4.21679 7.70912C4.25618 7.7257 4.29198 7.75 4.32213 7.78064C4.35228 7.81128 4.37619 7.84765 4.39251 7.88768C4.40883 7.92771 4.41723 7.97062 4.41723 8.01395C4.41723 8.10185 4.38316 8.18621 4.32238 8.24876C4.26161 8.31132 4.17903 8.34701 4.09254 8.34813Z"
            fill="white"
        />
        <path
            d="M7.6016 7.27791C7.45834 7.27791 7.31831 7.32108 7.19919 7.40195C7.08008 7.48283 6.98725 7.59778 6.93242 7.73228C6.8776 7.86677 6.86326 8.01476 6.89121 8.15754C6.91915 8.30032 6.98814 8.43147 7.08943 8.53441C7.19073 8.63735 7.31979 8.70745 7.46029 8.73585C7.6008 8.76425 7.74643 8.74967 7.87878 8.69396C8.01113 8.63825 8.12425 8.54391 8.20384 8.42287C8.28343 8.30183 8.32591 8.15952 8.32591 8.01395C8.32591 7.81874 8.2496 7.63152 8.11376 7.49349C7.97793 7.35545 7.7937 7.27791 7.6016 7.27791ZM7.6016 8.34813C7.5151 8.34701 7.43253 8.31132 7.37175 8.24876C7.31098 8.18621 7.2769 8.10185 7.27691 8.01395C7.28599 7.93234 7.32432 7.85698 7.38459 7.80227C7.44487 7.74755 7.52286 7.71731 7.60368 7.71731C7.6845 7.71731 7.76249 7.74755 7.82276 7.80227C7.88304 7.85698 7.92137 7.93234 7.93045 8.01395C7.93045 8.10258 7.8958 8.18758 7.83413 8.25025C7.77246 8.31292 7.68882 8.34813 7.6016 8.34813Z"
            fill="white"
        />
        <path
            d="M2.29843 7.27787C2.15451 7.27451 2.01287 7.3148 1.89159 7.39361C1.7703 7.47242 1.67488 7.58616 1.6175 7.72032C1.56011 7.85448 1.54337 8.00298 1.56941 8.14686C1.59545 8.29073 1.66309 8.42346 1.76369 8.52809C1.86429 8.63273 1.99329 8.70453 2.13423 8.73433C2.27517 8.76413 2.42165 8.75057 2.55497 8.6954C2.6883 8.64022 2.80241 8.54592 2.88276 8.42454C2.96311 8.30316 3.00605 8.1602 3.00608 8.01391C3.00613 7.8216 2.93211 7.63691 2.79986 7.49935C2.66761 7.36179 2.48762 7.28229 2.29843 7.27787ZM2.29843 8.34809C2.21193 8.34698 2.12935 8.31128 2.06858 8.24873C2.0078 8.18618 1.97373 8.10182 1.97373 8.01391C1.97373 7.97059 1.98213 7.92768 1.99845 7.88765C2.01477 7.84762 2.03868 7.81124 2.06883 7.7806C2.09898 7.74997 2.13478 7.72566 2.17417 7.70908C2.21356 7.6925 2.25579 7.68396 2.29843 7.68396C2.38493 7.68396 2.46795 7.71858 2.5295 7.78034C2.59105 7.8421 2.62618 7.92602 2.62728 8.01391C2.6262 8.1022 2.59121 8.18657 2.52977 8.249C2.46833 8.31144 2.38531 8.347 2.29843 8.34809Z"
            fill="white"
        />
        <path
            d="M9.1918 3.85579L8.22606 2.84479C8.12979 2.74238 8.01418 2.66075 7.88615 2.60479C7.75813 2.54882 7.62031 2.51967 7.48094 2.51907H7.06467V5.90317H9.37496V4.29572C9.37308 4.13034 9.3073 3.97233 9.1918 3.85579Z"
            fill="white"
        />
        <path
            d="M6.04483 1.25H0.874762C0.841963 1.25 0.809485 1.25656 0.779182 1.26932C0.74888 1.28207 0.721346 1.30077 0.698154 1.32434C0.674961 1.34791 0.656564 1.37589 0.644012 1.40668C0.63146 1.43747 0.625 1.47048 0.625 1.50381V5.65778C0.625 5.7251 0.651314 5.78965 0.698154 5.83725C0.744993 5.88485 0.808521 5.91159 0.874762 5.91159H6.66508V1.88452C6.66508 1.71696 6.59987 1.55621 6.48367 1.43733C6.36747 1.31846 6.20971 1.25112 6.04483 1.25Z"
            fill="white"
        />
        <path
            d="M4.03198 3.05135L4.33185 3.35121H2.58629C2.4137 3.35121 2.27379 3.49112 2.27379 3.66371C2.27379 3.8363 2.4137 3.97621 2.58629 3.97621H4.33185L4.03198 4.27607C3.90995 4.39811 3.90995 4.59598 4.03198 4.71802C4.15402 4.84005 4.35189 4.84005 4.47393 4.71802L5.01263 4.17931C5.29739 3.89455 5.29739 3.43287 5.01263 3.14811L4.47393 2.60941C4.35189 2.48737 4.15402 2.48737 4.03198 2.60941C3.90995 2.73145 3.90995 2.92931 4.03198 3.05135Z"
            fill="white"
        />
        <path
            d="M4.03188 3.05154L4.33174 3.3514H2.58618C2.41359 3.3514 2.27368 3.49131 2.27368 3.6639C2.27368 3.83649 2.41359 3.9764 2.58618 3.9764H4.33174L4.03188 4.27626C3.90984 4.3983 3.90984 4.59617 4.03188 4.7182C4.15392 4.84024 4.35178 4.84024 4.47382 4.7182L5.01252 4.1795C5.29728 3.89474 5.29728 3.43306 5.01252 3.1483L4.47382 2.6096C4.35178 2.48756 4.15392 2.48756 4.03188 2.6096C3.90984 2.73163 3.90984 2.9295 4.03188 3.05154Z"
            fill="currentColor"
        />
    </svg>,
    'TruckIcon'
);

export default function GeneralTruckMarker({
    truckReferenceId,
    truckId,
    flyToPoint,
    isOnline
}: Props) {
    const onClick = () => {
        openNewWindow(`/trucks/${truckId}`);
    };
    return (
        <div
            className={styles.wrapper}
            onMouseEnter={(event) => event.stopPropagation()}
            onMouseMove={(event) => event.stopPropagation()}
        >
            <div
                className={`
                ${styles.icon}
                ${clsx({
            [styles.icon__online]: !isOnline
        })} `}
            >
                <TruckMarkerIcon
                    color={!isOnline ? 'secondary' : 'primary'}
                    onClick={flyToPoint}
                />
            </div>
            <div
                className={styles.popup}
                id="truck-marker-popup-window"
            >
                <div className={styles.popup_content_wrapper}>
                    <div className={styles.popup_truck_info}>
                        <div className={styles.popup_driver_avatar}>{TrucksIcon()}</div>
                        <p className={styles.driver_name_text}>#{truckReferenceId}</p>
                    </div>
                    <div
                        onClick={onClick}
                        className={styles.icon_button}
                        id="truck-marker-icon-button"
                    >
                        <ChevronRightIcon />
                    </div>
                </div>
            </div>
        </div>
    );
}
