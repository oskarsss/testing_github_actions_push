import { IChipColors } from '@/@core/theme/chip';
import { Stack } from '@mui/material';
import { Settings_Billing_Invoice_Status } from '@proto/models/model_billing';
import type { IntlMessageKey } from '@/@types/next-intl';
import { useAppTranslation } from '@/hooks/useAppTranslation';

const paidIcon = (
    <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M28 23.9998V10.6665C28 7.72099 25.6122 5.33317 22.6667 5.33317H21.3333C21.3333 6.80593 20.1394 7.99984 18.6667 7.99984H13.3333C11.8606 7.99984 10.6667 6.80593 10.6667 5.33317H9.33333C6.38781 5.33317 4 7.72099 4 10.6665V23.9998C4 26.9454 6.38781 29.3332 9.33333 29.3332H22.6667C25.6122 29.3332 28 26.9454 28 23.9998ZM16 11.9998C16.5021 11.9998 16.9091 12.3222 16.9091 12.7198V13.5392C18.3082 13.8526 19.3333 14.8714 19.3333 16.0798C19.3333 16.4775 18.9263 16.7998 18.4242 16.7998C17.9222 16.7998 17.5152 16.4775 17.5152 16.0798C17.5152 15.4171 16.8368 14.8798 16 14.8798C15.1632 14.8798 14.4848 15.4171 14.4848 16.0798C14.4848 16.7426 15.1632 17.2798 16 17.2798C17.8409 17.2798 19.3333 18.4618 19.3333 19.9198C19.3333 21.1283 18.3082 22.1471 16.9091 22.4605V23.2798C16.9091 23.6775 16.5021 23.9998 16 23.9998C15.4979 23.9998 15.0909 23.6775 15.0909 23.2798V22.4605C13.6918 22.1471 12.6667 21.1283 12.6667 19.9198C12.6667 19.5222 13.0737 19.1998 13.5758 19.1998C14.0778 19.1998 14.4848 19.5222 14.4848 19.9198C14.4848 20.5826 15.1632 21.1198 16 21.1198C16.8368 21.1198 17.5152 20.5826 17.5152 19.9198C17.5152 19.2571 16.8368 18.7198 16 18.7198C14.1591 18.7198 12.6667 17.5379 12.6667 16.0798C12.6667 14.8714 13.6918 13.8526 15.0909 13.5392V12.7198C15.0909 12.3222 15.4979 11.9998 16 11.9998Z"
            fill="#54B471"
        />
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.3333 2.6665C11.8606 2.6665 10.6667 3.86041 10.6667 5.33317H21.3333C21.3333 3.86041 20.1394 2.6665 18.6667 2.6665H13.3333Z"
            fill="#54B471"
        />
        <path
            d="M21.3333 5.33317H10.6667C10.6667 6.80593 11.8606 7.99984 13.3333 7.99984H18.6667C20.1394 7.99984 21.3333 6.80593 21.3333 5.33317Z"
            fill="#54B471"
        />
    </svg>
);

const DraftIcon = (
    <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.3333 2.66699C11.8606 2.66699 10.6667 3.8609 10.6667 5.33366H9.33333C6.38781 5.33366 4 7.72147 4 10.667V24.0003C4 26.9458 6.38781 29.3337 9.33333 29.3337H22.6667C25.6122 29.3337 28 26.9458 28 24.0003V10.667C28 7.72147 25.6122 5.33366 22.6667 5.33366H21.3333C21.3333 3.8609 20.1394 2.66699 18.6667 2.66699H13.3333Z"
            fill="#B6B7BB"
        />
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M20.5129 12.4641C19.8941 11.8453 18.8909 11.8453 18.2721 12.4641L17.7022 13.034L19.943 15.2748L20.5129 14.7049C21.1317 14.0861 21.1317 13.0829 20.5129 12.4641ZM18.8823 16.3354L16.6415 14.0946L11.7592 18.977C11.4405 19.2957 11.225 19.7029 11.1407 20.1456L11.0181 20.7895C10.8862 21.4826 11.4943 22.0908 12.1875 21.9588L12.8313 21.8363C13.2741 21.752 13.6812 21.5365 13.9999 21.2178L18.8823 16.3354Z"
            fill="white"
        />
    </svg>
);

const OpenIcon = (
    <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.3333 2.66699C11.8606 2.66699 10.6667 3.8609 10.6667 5.33366H9.33333C6.38781 5.33366 4 7.72147 4 10.667V24.0003C4 26.9458 6.38781 29.3337 9.33333 29.3337H22.6667C25.6122 29.3337 28 26.9458 28 24.0003V10.667C28 7.72147 25.6122 5.33366 22.6667 5.33366H21.3333C21.3333 3.8609 20.1394 2.66699 18.6667 2.66699H13.3333Z"
            fill="#126FB7"
        />
        <path
            d="M12 15.4217L16 17.7461L20 15.4217L16 13.0974L12 15.4217ZM21 15.4217V20.0705C21 20.3171 20.8946 20.5536 20.7071 20.7279C20.5196 20.9023 20.2652 21.0002 20 21.0002H12C11.7348 21.0002 11.4804 20.9023 11.2929 20.7279C11.1054 20.5536 11 20.3171 11 20.0705V15.4217C11 15.0824 11.195 14.7895 11.485 14.6268L16 12.0002L20.515 14.6268C20.805 14.7895 21 15.0824 21 15.4217Z"
            fill="white"
        />
    </svg>
);

const VoidIcon = (
    <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M28 23.9998V10.6665C28 7.72099 25.6122 5.33317 22.6667 5.33317H21.3333C21.3333 6.80593 20.1394 7.99984 18.6667 7.99984H13.3333C11.8606 7.99984 10.6667 6.80593 10.6667 5.33317H9.33333C6.38781 5.33317 4 7.72099 4 10.6665V23.9998C4 26.9454 6.38781 29.3332 9.33333 29.3332H22.6667C25.6122 29.3332 28 26.9454 28 23.9998ZM18.6667 13.3332H13.3333C12.597 13.3332 12 13.9301 12 14.6665V19.9998C12 20.7362 12.597 21.3332 13.3333 21.3332H18.6667C19.403 21.3332 20 20.7362 20 19.9998V14.6665C20 13.9301 19.403 13.3332 18.6667 13.3332Z"
            fill="#4C4C4C"
        />
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.3333 2.6665C11.8606 2.6665 10.6667 3.86041 10.6667 5.33317H21.3333C21.3333 3.86041 20.1394 2.6665 18.6667 2.6665H13.3333Z"
            fill="#4C4C4C"
        />
        <path
            d="M21.3333 5.33317H10.6667C10.6667 6.80593 11.8606 7.99984 13.3333 7.99984H18.6667C20.1394 7.99984 21.3333 6.80593 21.3333 5.33317Z"
            fill="#4C4C4C"
        />
        <path
            d="M12.0432 20.3379C12.1633 20.7977 12.5228 21.1609 12.9805 21.2862L19.9529 14.3138C19.8275 13.8561 19.4644 13.4966 19.0045 13.3765L12.0432 20.3379Z"
            fill="#4C4C4C"
        />
    </svg>
);

const UncollectibleIcon = (
    <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.3333 2.66699C11.8606 2.66699 10.6667 3.8609 10.6667 5.33366H9.33333C6.38781 5.33366 4 7.72147 4 10.667V24.0003C4 26.9458 6.38781 29.3337 9.33333 29.3337H22.6667C25.6122 29.3337 28 26.9458 28 24.0003V10.667C28 7.72147 25.6122 5.33366 22.6667 5.33366H21.3333C21.3333 3.8609 20.1394 2.66699 18.6667 2.66699H13.3333ZM15.7584 15.2804C15.87 15.2543 15.9884 15.2402 16.1111 15.2402C16.7805 15.2402 17.3232 15.6581 17.3232 16.1736C17.3232 16.4829 17.6488 16.7336 18.0505 16.7336C18.4521 16.7336 18.7777 16.4829 18.7777 16.1736C18.7777 15.2337 17.9576 14.4413 16.8383 14.1975V13.5602C16.8383 13.251 16.5127 13.0002 16.1111 13.0002C15.7094 13.0002 15.3838 13.251 15.3838 13.5602V14.1975C15.1946 14.2387 15.0139 14.2956 14.8443 14.3662L15.7584 15.2804ZM19.3553 21.854L18.0617 20.5603C17.7343 20.8307 17.3132 21.0329 16.8383 21.1363V21.7736C16.8383 22.0829 16.5127 22.3336 16.1111 22.3336C15.7094 22.3336 15.3838 22.0829 15.3838 21.7736V21.1363C14.2645 20.8925 13.4444 20.1001 13.4444 19.1602C13.4444 18.851 13.77 18.6002 14.1717 18.6002C14.5733 18.6002 14.8989 18.851 14.8989 19.1602C14.8989 19.6757 15.4416 20.0936 16.1111 20.0936C16.5497 20.0936 16.934 19.9141 17.1468 19.6454L15.7046 18.2032C14.4247 18.0525 13.4444 17.2012 13.4444 16.1736C13.4444 16.1006 13.4493 16.0286 13.459 15.9576L11.6953 14.1939C11.4349 13.9335 11.4349 13.5114 11.6953 13.2511C11.9556 12.9907 12.3777 12.9907 12.6381 13.2511L20.2982 20.9112C20.5585 21.1715 20.5585 21.5936 20.2982 21.854C20.0378 22.1143 19.6157 22.1143 19.3553 21.854Z"
            fill="#B7125F"
        />
    </svg>
);

const UnspecifiedIcon = (
    <svg
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.3333 2.66699C11.8606 2.66699 10.6667 3.8609 10.6667 5.33366H9.33333C6.38781 5.33366 4 7.72147 4 10.667V24.0003C4 26.9458 6.38781 29.3337 9.33333 29.3337H22.6667C25.6122 29.3337 28 26.9458 28 24.0003V10.667C28 7.72147 25.6122 5.33366 22.6667 5.33366H21.3333C21.3333 3.8609 20.1394 2.66699 18.6667 2.66699H13.3333ZM14.6364 14.8698C14.6364 14.1494 15.2469 13.5655 16 13.5655C16.7531 13.5655 17.3636 14.1494 17.3636 14.8698C17.3636 15.1306 17.2844 15.3714 17.1481 15.5741C17.0107 15.7783 16.8387 15.9896 16.6367 16.2298L16.5373 16.3476C16.368 16.5479 16.1818 16.7681 16.012 16.9915C15.6099 17.52 15.1818 18.2097 15.1818 19.0437V19.5655C15.1818 19.9977 15.5481 20.3481 16 20.3481C16.4519 20.3481 16.8182 19.9977 16.8182 19.5655V19.0437C16.8182 18.7251 16.9821 18.3764 17.3351 17.9124C17.4782 17.7242 17.6331 17.5409 17.8018 17.3412L17.9116 17.211C18.115 16.9692 18.3355 16.7015 18.5242 16.4211C18.8254 15.9734 19 15.4399 19 14.8698C19 13.285 17.6569 12.0002 16 12.0002C14.3431 12.0002 13 13.285 13 14.8698C13 15.302 13.3663 15.6524 13.8182 15.6524C14.2701 15.6524 14.6364 15.302 14.6364 14.8698ZM16.8182 22.1742C16.8182 21.7419 16.4519 21.3915 16 21.3915C15.5481 21.3915 15.1818 21.7419 15.1818 22.1742V23.2176C15.1818 23.6499 15.5481 24.0002 16 24.0002C16.4519 24.0002 16.8182 23.6499 16.8182 23.2176V22.1742Z"
            fill="#5222FF"
        />
    </svg>
);

type StatusChipOptions = {
    color: IChipColors;
    icon: JSX.Element;
    title: IntlMessageKey;
};

const status_chip_options: Record<Settings_Billing_Invoice_Status, StatusChipOptions> = {
    [Settings_Billing_Invoice_Status.draft]: {
        color: 'gray',
        icon : DraftIcon,
        title: 'settings:billing.table.chips.draft'
    },
    [Settings_Billing_Invoice_Status.open]: {
        color: 'blue_dark',
        icon : OpenIcon,
        title: 'settings:billing.table.chips.open'
    },
    [Settings_Billing_Invoice_Status.void]: {
        color: 'gray',
        icon : VoidIcon,
        title: 'settings:billing.table.chips.void'
    },
    [Settings_Billing_Invoice_Status.paid]: {
        color: 'success',
        icon : paidIcon,
        title: 'settings:billing.table.chips.paid'
    },
    [Settings_Billing_Invoice_Status.uncollectible]: {
        color: 'error',
        icon : UncollectibleIcon,
        title: 'settings:billing.table.chips.uncollectible'
    },
    [Settings_Billing_Invoice_Status.unspecified]: {
        color: 'blue_dark',
        icon : UnspecifiedIcon,
        title: 'settings:billing.table.chips.unspecified'
    }
};

type Props = {
    status: Settings_Billing_Invoice_Status;
};

export default function StatusChip({ status }: Props) {
    const { t } = useAppTranslation();
    return (
        <Stack
            sx={{
                display      : 'flex',
                flexDirection: 'row',
                alignItems   : 'center',
                gap          : '4px',
                width        : 'fit-content',
                padding      : '4px 8px',

                // backgroundColor: ({ palette }) =>
                //     palette.chip[status_chip_options[status].color || 'grey']?.background,
                // color: ({ palette }) =>
                //     palette.chip[status_chip_options[status].color || 'grey']?.icon.background,
                fontWeight   : 500,
                fontSize     : 12,
                lineHeight   : '16px',
                borderRadius : '4px',
                borderSpacing: 0,
                textTransform: 'capitalize',

                '& svg': {
                    width     : '16px',
                    height    : '16px',
                    flexShrink: 0
                }
            }}
        >
            {status_chip_options[status]?.icon}
            {t(status_chip_options[status]?.title)}
        </Stack>
    );
}
